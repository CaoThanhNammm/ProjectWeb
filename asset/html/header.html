<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/asset/css/header.css">
    <link rel="stylesheet" href="/asset/css/index.css">
    <link rel="stylesheet" href="/asset/css/headerRes.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>Header</title>
</head>

<body>
    <!-- 
        Create: Cao Thành Nam
        Date: 18/10/2023
        Note: header của trang web 
    -->
    <div class="header">
        <img src="/asset/image/general/logo.png" alt="" class="logo_page">

        <!-- phần tìm kiếm sản phẩm của header -->
        <div class="header_search">
            <input type="text" class="search" placeholder="Tìm đồ gia dụng">
            <i class="fa-solid fa-magnifying-glass search_logo"></i>
        </div>

        <!-- phần đăng nhập hoặc đăng ký của header -->
        <div class="header_login_signin">
            <a href="/asset/html/login.html" class="log_in">Đăng nhập</a>
            <div class="line"></div>
            <a href="/asset//html/register.html" class="sign_in">Đăng ký</a>
        </div>

        <div class="header_login_signin_mobile">
            <img src="/asset/image/png/user.png" alt="">
        </div>

        <!-- phần giỏ hàng của header -->
        <div class="header_cart">
            <div class="header_cart_info">
                <img src="/asset/image/png/cart.png" class="header_cart_logo" alt="">
                <span class="header_cart_amount_product">0</span>
            </div>
        </div>
    </div>
    <!-- phần danh mục sản phẩm của header -->
    <div class="navigation">
        <div class="all_list">
            <i class="fa-solid fa-list all_list_logo"></i>
            <span class="all_list_text">Tất cả danh mục</span>
        </div>

        <ul class="navigtion-list">
            <li class="navigtion-item"><a href="">Tivi</a></li>
            <li class="navigtion-item"><a href="">Máy giặt</a></li>
            <li class="navigtion-item"><a href="">Tủ lạnh</a></li>
            <li class="navigtion-item"><a href="">Máy sấy</a></li>
            <li class="navigtion-item"><a href="">Gia dụng</a></li>
            <li class="navigtion-item"><a href="">Robot hút bụi</a></li>
            <li class="navigtion-item"><a href="">Bếp điện</a></li>
        </ul>
    </div>

    <div class="modal_overlay"></div>
    <div class="modal_body">
        <i class="fa-solid fa-xmark modal_body_quit"></i>
        <ul class="category_all_list">
            <div>
                <li class="category_all_item">Sofa và Armchair
                    <i class="fa-solid fa-chevron-down category_all_item_icon"></i>
                </li>
                <ul class="category_all_item_child_list">
                    <li>Sofa</li>
                    <li>Sofa góc</li>
                    <li>Ghế dài và đôn</li>
                </ul>
            </div>

            <div>
                <li class="category_all_item">Bàn
                    <i class="fa-solid fa-chevron-down category_all_item_icon"></i>
                </li>
                <ul class="category_all_item_child_list">
                    <li>Sofa</li>
                    <li>Sofa góc</li>
                    <li>Ghế dài và đôn</li>
                </ul>
            </div>

            <div>
                <li class="category_all_item">Ghế
                    <i class="fa-solid fa-chevron-down category_all_item_icon"></i>
                </li>
                <ul class="category_all_item_child_list">
                    <li>Sofa</li>
                    <li>Sofa góc</li>
                    <li>Ghế dài và đôn</li>
                </ul>
            </div>

            <div>
                <li class="category_all_item">Giường ngủ
                    <i class="fa-solid fa-chevron-down category_all_item_icon"></i>
                </li>
                <ul class="category_all_item_child_list">
                    <li>Sofa</li>
                    <li>Sofa góc</li>
                    <li>Ghế dài và đôn</li>
                </ul>
            </div>

            <div>
                <li class="category_all_item">Tủ và kệ
                    <i class="fa-solid fa-chevron-down category_all_item_icon"></i>
                </li>
                <ul class="category_all_item_child_list">
                    <li>Sofa</li>
                    <li>Sofa góc</li>
                    <li>Ghế dài và đôn</li>
                </ul>
            </div>
        </ul>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous">
    </script>
<!-- <script src="/asset/js/header.js"></script> -->
<script>
    var elementModal = document.querySelector('.modal_overlay');
    var elementModalBody = document.querySelector('.modal_body');
    var elementIconAllList = document.querySelector('.all_list');
    var elementQuitIcon = document.querySelector(".modal_body_quit");
    var elementBody = document.querySelector('body');

    /*
        Create: Cao Thành Nam
        Date: 22/10/2023
        Note: phương thức xử lý bắt đầu ấn vào tất cả danh mục
    */

    function _startSlideAllList() {
        elementIconAllList.onclick = function () {
            console.log("run")
            _slideLeftToRightAllList();
        }
    }

    /*
        Create: Cao Thành Nam
        Date: 22/10/2023
        Note: phương thức css cho các modal để hiển thị lên màn hình
    */

    function _slideLeftToRightAllList() {
        elementModal.classList.toggle("active")
        elementModalBody.style.left = '0';
        elementBody.classList.add('hidden_overflow');
    }
    /*
        Create: Cao Thành Nam
        Date: 22/10/2023
        Note: phương thức xử lý khi băt đầu ấn vào tắt danh mục,
         ấn vào nút X hoặc nhấn ra ngoài danh mục
    */
    function _clickQuit() {
        elementQuitIcon.onclick = function () {
            _quitSlide();
        }
        elementModal.onclick = function () {
            _quitSlide();
        }
    }

    /*
        Create: Cao Thành Nam
        Date: 22/10/2023
        Note: phương thức xử lý để modal tắt khỏi màn hình
    */
    function _quitSlide() {
        elementModal.classList.remove("active")
        elementModalBody.style.left = -$(elementModalBody).width() + "px";
        elementBody.classList.remove('hidden_overflow');

        setTimeout(function () {
            elementCategoryItem.forEach(function (value, index) {
                _resetSlide(index);
            })
        }, 350);
    }

    var elementCategoryItem = document.querySelectorAll(".category_all_item");
    var elementCategoryChildItem = document.querySelectorAll(".category_all_item_child_list");
    var elementIconDown = document.querySelectorAll(".category_all_item_icon");

    /*
        Create: Cao Thành Nam
        Date: 22/10/2023
        Note: phương thức reset lại modal trở về vị trí ban đầu
    */
    function _resetSlide(index) {
        elementCategoryChildItem[index].classList.replace('active', 'unactive');
        elementIconDown[index].classList.replace('icon_up_rotate', 'icon_down_rotate');
        elementCategoryItem[index].classList.remove('category_all_item_border-none');
    }


    /*
        Create: Cao Thành Nam
        Date: 22/10/2023
        Note: phương thức xử lý khi ấn vào từng item sẽ hiện lên item con
    */
    function _clickChildItem() {
        elementCategoryItem.forEach(function (value, index) {
            value.onclick = function () {
                value.classList.toggle("category_all_item_border-none");
                elementCategoryChildItem[index].classList.toggle('active');
                elementIconDown[index].classList.toggle('icon_up_rotate');
            }
        });
    }

    _startSlideAllList();
    _clickQuit();
    _clickChildItem();
</script>

</html>